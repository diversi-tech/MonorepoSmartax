<div >
    <p-dropdown [options]="years"
     [(ngModel)]="selectedYear"
     placeholder="בחירת שנה"
       [editable]="true"
        optionLabel="yearNum"
        (onChange)="changeDate()"  />
</div>
<div >
    <p-dropdown [options]="months"
     [(ngModel)]="selectedMonth"
     placeholder="בחירת חודש"
       [editable]="true"
        (onChange)="changeDate()" />
</div>




 <p-table
 [value]="fieldBymonths" 
  sortField="type"
    sortMode="single" 
    dataKey="type" 
    rowGroupMode="subheader" 
    groupRowsBy="type" 
    [tableStyle]="{'min-width': '70rem'}">
        <ng-template pTemplate="groupheader" let-fieldBymonth let-rowIndex="rowIndex" let-expanded="expanded">
            <tr>
                <td colspan="5">
                    <h4 class="font-bold ml-2">{{fieldBymonth.type}}</h4>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-fieldBymonth>
            <th><div class="text-center">{{fieldBymonth.value}}</div>
                <input *ngIf="fieldBymonth.content != 'לא בוצע' && fieldBymonth.content != 'בוצע'" type="text" value="{{fieldBymonth.content}}" />
                <input *ngIf="fieldBymonth.content === 'לא בוצע' || fieldBymonth.content === 'בוצע'" type="checkbox" [checked]="fieldBymonth.content === 'בוצע'" />
            </th>
        </ng-template>
</p-table>





<p-button (onClick)="showDialog()" label="Show" />
<p-dialog header="Edit Profile" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
    <span class="p-text-secondary block mb-5">Update your information.</span>
    <div class="flex align-items-center gap-3 mb-3">
        <p-dropdown id="year" formControlName="year"
        [style]="{ width: '80%' }" panelStyleClass="custom-dropdown-panel" styleClass="custom-dropdown" [options]="years"
        [(ngModel)]="selectedYear"
        placeholder="בחירת שנה"
          [editable]="true"
           optionLabel="yearNum"
           ></p-dropdown>
    </div>
    <div class="flex align-items-center gap-3 mb-5">
        <p-dropdown id="month" formControlName="month"
        [style]="{ width: '80%' }" panelStyleClass="custom-dropdown-panel" styleClass="custom-dropdown" [options]="months"
        [(ngModel)]="selectedMonth"
        placeholder="בחירת חודש"
          [editable]="true"
           ></p-dropdown>
    </div>
    <div class="flex justify-content-end gap-2">
        <p-button label="Cancel" severity="secondary" (onClick)="visible = false" />
        <p-button label="Save" (onClick)="visible = false;onSubmit()" />
    </div>
</p-dialog>
    <!-- <form [formGroup]="yearlyReportForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <p-dropdown id="year" formControlName="year"
          [style]="{ width: '80%' }" panelStyleClass="custom-dropdown-panel" styleClass="custom-dropdown" [options]="years"
          [(ngModel)]="selectedYear"
          placeholder="בחירת שנה"
            [editable]="true"
             optionLabel="yearNum"
             ></p-dropdown>
         <div *ngIf="yearlyReportForm.get('type').invalid && yearlyReportForm.get('type').touched" class="error">
          This field is required.
        </div> -->
      <!-- </div> -->
  
      <!-- <div class="form-group"> -->
        
        <!-- <div *ngIf="yearlyReportForm.get('year').invalid && yearlyReportForm.get('year').touched" class="error">
          This field is required.
        </div> -->
      <!-- </div> -->
  
      
  
      <!-- <div class="form-group">
        <label for="price">מחיר:</label>
        <input type="number" id="price" formControlName="price" class="form-control" placeholder="מחיר">
        <div *ngIf="yearlyReportForm.get('price').invalid && yearlyReportForm.get('price').touched" class="error">
          This field is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="paymentAmountPaid">סכום ששולם:</label>
        <input type="number" id="paymentAmountPaid" formControlName="paymentAmountPaid" class="form-control"
          placeholder="סכום ששולם">
        <div *ngIf="yearlyReportForm.get('paymentAmountPaid').invalid && yearlyReportForm.get('paymentAmountPaid').touched"
          class="error">
          This field is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="balanceDue">יתרה לתשלום:</label>
        <input type="number" id="balanceDue" formControlName="balanceDue" class="form-control" placeholder="יתרה לתשלום">
        <div *ngIf="yearlyReportForm.get('balanceDue').invalid && yearlyReportForm.get('balanceDue').touched" class="error">
          This field is required.
        </div>
      </div>
   
      <button type="submit" pButton label="אישור" class="custom-button"></button>
    </form>
  </div> -->
  




